{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../addEventListener","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":24,"index":362},"end":{"line":9,"column":54,"index":392}}],"key":"wzhmv3P/qeyjh4vSr75VQmSj1S0=","exportNames":["*"]}},{"name":"../canUseDom","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":40,"index":434},"end":{"line":10,"column":63,"index":457}}],"key":"H9nuXvJCDdkb32zOAGy+8nYoQXM=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";var t=r(d[0]).default;e.__esModule=!0,e.addModalityListener=function(t){return f.add(t),()=>{f.delete(t)}},e.getActiveModality=function(){return s},e.getModality=function(){return l},e.testOnly_resetActiveModality=function(){v=!1,s=y,l=y};var n,o,u=r(d[1]),c=t(r(d[2])),s='keyboard',l='keyboard',v=!1,f=new Set,y='keyboard',E='mouse',L='touch',h='contextmenu',w='mousedown',p='mousemove',b='mouseup',M='pointerdown',_='pointermove',k='scroll',K='selectionchange',A='touchcancel',S='touchmove',x='touchstart',O={passive:!0},j={capture:!0,passive:!0};function q(){null==n&&null==o||(null!=n&&(l=n,n=null),null!=o&&(s=o,o=null),B())}function z(t){var n=t.type;if(v||(n===w&&s!==E&&(l=E,s=E,B()),n===p&&l!==E&&(l=E,B())),n===x)return v=!0,t.touches&&t.touches.length>1&&(v=!1),void(s!==L&&(l=L,s=L,B()));n!==h&&n!==b&&n!==K&&n!==k&&n!==A&&n!==S||(v=!1)}function B(){var t={activeModality:s,modality:l};f.forEach(n=>{n(t)})}c.default&&((0,u.addEventListener)(window,'blur',function(){n=l,o=s,s=y,l=y,B(),v=!1},O),(0,u.addEventListener)(window,'focus',function(){q()},O),(0,u.addEventListener)(document,'keydown',function(t){t.metaKey||t.altKey||t.ctrlKey||l!==y&&(l=y,s=y,B())},j),(0,u.addEventListener)(document,'visibilitychange',function(){'hidden'!==document.visibilityState&&q()},j),(0,u.addEventListener)(document,M,z,j),(0,u.addEventListener)(document,_,z,j),(0,u.addEventListener)(document,h,z,j),(0,u.addEventListener)(document,w,z,j),(0,u.addEventListener)(document,p,z,j),(0,u.addEventListener)(document,b,z,j),(0,u.addEventListener)(document,A,z,j),(0,u.addEventListener)(document,S,z,j),(0,u.addEventListener)(document,x,z,j),(0,u.addEventListener)(document,K,z,j),(0,u.addEventListener)(document,k,z,j))});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"_interopRequireDefault"],[1,47,3,29,"require"],[1,49,3,36,"d"],[1,51,3,36],[1,55,3,85,"default"],[1,63,4,0,"exports"],[1,65,4,8,"__esModule"],[1,77,4,21],[1,79,5,0,"exports"],[1,81,5,8,"addModalityListener"],[1,101,186,0],[1,110,186,29,"listener"],[1,113,188,2],[1,120,187,2,"listeners"],[1,122,187,12,"add"],[1,126,187,16,"listener"],[1,129,188,9],[1,134,189,4,"listeners"],[1,136,189,14,"delete"],[1,143,189,21,"listener"],[1,146,191,0],[1,148,6,0,"exports"],[1,150,6,8,"getActiveModality"],[1,168,180,0],[1,179,181,2],[1,186,181,9,"activeModality"],[1,187,182,0],[1,189,7,0,"exports"],[1,191,7,8,"getModality"],[1,203,183,0],[1,214,184,2],[1,221,184,9,"modality"],[1,222,185,0],[1,224,8,0,"exports"],[1,226,8,8,"testOnly_resetActiveModality"],[1,255,192,0],[1,266,193,2,"isEmulatingMouseEvents"],[1,269,193,27],[1,271,194,2,"activeModality"],[1,273,194,19,"KEYBOARD"],[1,275,195,2,"modality"],[1,277,195,13,"KEYBOARD"],[1,278,196,0],[1,280,9,0],[1,284,23,4,"previousModality"],[1,286,24,4,"previousActiveModality"],[1,288,9,4,"_addEventListener"],[1,290,9,24,"require"],[1,292,9,31,"d"],[1,294,9,31],[1,298,10,4,"_canUseDom"],[1,300,10,17,"_interopRequireDefault"],[1,302,10,40,"require"],[1,304,10,47,"d"],[1,306,10,47],[1,311,21,4,"activeModality"],[1,313,21,21],[1,324,22,4,"modality"],[1,326,22,15],[1,337,25,4,"isEmulatingMouseEvents"],[1,340,25,29],[1,342,26,4,"listeners"],[1,344,26,16],[1,348,26,20,"Set"],[1,352,27,4,"KEYBOARD"],[1,354,27,15],[1,365,28,4,"MOUSE"],[1,367,28,12],[1,375,29,4,"TOUCH"],[1,377,29,12],[1,385,31,4,"CONTEXTMENU"],[1,387,31,18],[1,401,34,4,"MOUSEDOWN"],[1,403,34,16],[1,415,35,4,"MOUSEMOVE"],[1,417,35,16],[1,429,36,4,"MOUSEUP"],[1,431,36,14],[1,441,37,4,"POINTERDOWN"],[1,443,37,18],[1,457,38,4,"POINTERMOVE"],[1,459,38,18],[1,473,39,4,"SCROLL"],[1,475,39,13],[1,484,40,4,"SELECTIONCHANGE"],[1,486,40,22],[1,504,41,4,"TOUCHCANCEL"],[1,506,41,18],[1,520,42,4,"TOUCHMOVE"],[1,522,42,16],[1,534,43,4,"TOUCHSTART"],[1,536,43,17],[1,549,45,4,"bubbleOptions"],[1,551,45,20],[1,552,46,2,"passive"],[1,561,46,11],[1,564,48,4,"captureOptions"],[1,566,48,21],[1,567,49,2,"capture"],[1,576,49,11],[1,578,50,2,"passive"],[1,587,50,11],[1,590,52,0],[1,599,52,9,"restoreModality"],[1,603,53,26],[1,609,53,6,"previousModality"],[1,612,53,60],[1,618,53,34,"previousActiveModality"],[1,622,54,28],[1,628,54,8,"previousModality"],[1,632,55,6,"modality"],[1,634,55,17,"previousModality"],[1,636,56,6,"previousModality"],[1,638,56,25],[1,644,58,34],[1,650,58,8,"previousActiveModality"],[1,654,59,6,"activeModality"],[1,656,59,23,"previousActiveModality"],[1,658,60,6,"previousActiveModality"],[1,660,60,31],[1,666,62,4,"callListeners"],[1,670,64,0],[1,671,92,0],[1,680,92,9,"onPointerish"],[1,682,92,22,"event"],[1,685,93,2],[1,689,93,6,"eventType"],[1,691,93,18,"event"],[1,693,93,24,"type"],[1,698,130,4],[1,701,113,9,"isEmulatingMouseEvents"],[1,705,114,10,"eventType"],[1,709,114,24,"MOUSEDOWN"],[1,712,115,12,"activeModality"],[1,716,115,31,"MOUSE"],[1,720,116,10,"modality"],[1,722,116,21,"MOUSE"],[1,724,117,10,"activeModality"],[1,726,117,27,"MOUSE"],[1,728,118,10,"callListeners"],[1,733,121,10,"eventType"],[1,737,121,24,"MOUSEMOVE"],[1,740,122,12,"modality"],[1,744,122,25,"MOUSE"],[1,748,123,10,"modality"],[1,750,123,21,"MOUSE"],[1,752,124,10,"callListeners"],[1,758,130,8,"eventType"],[1,762,130,22,"TOUCHSTART"],[1,764,140,6],[1,771,131,6,"isEmulatingMouseEvents"],[1,774,131,31],[1,776,132,10,"event"],[1,778,132,16,"touches"],[1,787,132,27,"event"],[1,789,132,33,"touches"],[1,797,132,41,"length"],[1,804,132,50],[1,808,133,8,"isEmulatingMouseEvents"],[1,811,133,33],[1,819,135,10,"activeModality"],[1,823,135,29,"TOUCH"],[1,827,136,8,"modality"],[1,829,136,19,"TOUCH"],[1,831,137,8,"activeModality"],[1,833,137,25,"TOUCH"],[1,835,138,8,"callListeners"],[1,841,145,8,"eventType"],[1,845,145,22,"CONTEXTMENU"],[1,848,145,37,"eventType"],[1,852,145,51,"MOUSEUP"],[1,855,145,62,"eventType"],[1,859,145,76,"SELECTIONCHANGE"],[1,862,145,95,"eventType"],[1,866,145,109,"SCROLL"],[1,869,145,119,"eventType"],[1,873,145,133,"TOUCHCANCEL"],[1,876,145,148,"eventType"],[1,880,145,162,"TOUCHMOVE"],[1,884,146,6,"isEmulatingMouseEvents"],[1,887,146,31],[1,889,149,0],[1,890,171,0],[1,899,171,9,"callListeners"],[1,903,172,2],[1,907,172,6,"value"],[1,909,172,14],[1,910,173,4,"activeModality"],[1,927,174,4,"modality"],[1,939,176,2,"listeners"],[1,941,176,12,"forEach"],[1,949,176,20,"listener"],[1,953,177,4,"listener"],[1,955,177,13,"value"],[1,959,179,0],[1,960,150,4,"_canUseDom"],[1,962,150,15,"default"],[1,973,152,2],[1,975,152,6,"_addEventListener"],[1,977,152,24,"addEventListener"],[1,995,152,42,"window"],[1,1002,30,11],[1,1009,65,0],[1,1020,66,2,"previousModality"],[1,1022,66,21,"modality"],[1,1024,67,2,"previousActiveModality"],[1,1026,67,27,"activeModality"],[1,1028,68,2,"activeModality"],[1,1030,68,19,"KEYBOARD"],[1,1032,69,2,"modality"],[1,1034,69,13,"KEYBOARD"],[1,1036,70,2,"callListeners"],[1,1040,72,2,"isEmulatingMouseEvents"],[1,1043,72,27],[1,1044,73,0],[1,1046,152,70,"bubbleOptions"],[1,1050,153,2],[1,1052,153,6,"_addEventListener"],[1,1054,153,24,"addEventListener"],[1,1072,153,42,"window"],[1,1079,32,12],[1,1087,74,0],[1,1098,75,2,"restoreModality"],[1,1101,76,0],[1,1103,153,72,"bubbleOptions"],[1,1107,156,2],[1,1109,156,6,"_addEventListener"],[1,1111,156,24,"addEventListener"],[1,1129,156,42,"document"],[1,1138,33,14],[1,1148,77,0],[1,1157,77,19,"event"],[1,1160,78,6,"event"],[1,1162,78,12,"metaKey"],[1,1171,78,23,"event"],[1,1173,78,29,"altKey"],[1,1181,78,39,"event"],[1,1183,78,45,"ctrlKey"],[1,1192,81,6,"modality"],[1,1196,81,19,"KEYBOARD"],[1,1200,82,4,"modality"],[1,1202,82,15,"KEYBOARD"],[1,1204,83,4,"activeModality"],[1,1206,83,21,"KEYBOARD"],[1,1208,84,4,"callListeners"],[1,1212,86,0],[1,1214,156,72,"captureOptions"],[1,1218,157,2],[1,1220,157,6,"_addEventListener"],[1,1222,157,24,"addEventListener"],[1,1240,157,42,"document"],[1,1249,44,23],[1,1268,87,0],[1,1279,88,35],[1,1290,88,6,"document"],[1,1299,88,15,"visibilityState"],[1,1316,89,4,"restoreModality"],[1,1319,91,0],[1,1321,157,90,"captureOptions"],[1,1325,158,2],[1,1327,158,6,"_addEventListener"],[1,1329,158,24,"addEventListener"],[1,1347,158,42,"document"],[1,1356,158,52,"POINTERDOWN"],[1,1358,158,65,"onPointerish"],[1,1360,158,79,"captureOptions"],[1,1364,159,2],[1,1366,159,6,"_addEventListener"],[1,1368,159,24,"addEventListener"],[1,1386,159,42,"document"],[1,1395,159,52,"POINTERMOVE"],[1,1397,159,65,"onPointerish"],[1,1399,159,79,"captureOptions"],[1,1403,161,2],[1,1405,161,6,"_addEventListener"],[1,1407,161,24,"addEventListener"],[1,1425,161,42,"document"],[1,1434,161,52,"CONTEXTMENU"],[1,1436,161,65,"onPointerish"],[1,1438,161,79,"captureOptions"],[1,1442,162,2],[1,1444,162,6,"_addEventListener"],[1,1446,162,24,"addEventListener"],[1,1464,162,42,"document"],[1,1473,162,52,"MOUSEDOWN"],[1,1475,162,63,"onPointerish"],[1,1477,162,77,"captureOptions"],[1,1481,163,2],[1,1483,163,6,"_addEventListener"],[1,1485,163,24,"addEventListener"],[1,1503,163,42,"document"],[1,1512,163,52,"MOUSEMOVE"],[1,1514,163,63,"onPointerish"],[1,1516,163,77,"captureOptions"],[1,1520,164,2],[1,1522,164,6,"_addEventListener"],[1,1524,164,24,"addEventListener"],[1,1542,164,42,"document"],[1,1551,164,52,"MOUSEUP"],[1,1553,164,61,"onPointerish"],[1,1555,164,75,"captureOptions"],[1,1559,165,2],[1,1561,165,6,"_addEventListener"],[1,1563,165,24,"addEventListener"],[1,1581,165,42,"document"],[1,1590,165,52,"TOUCHCANCEL"],[1,1592,165,65,"onPointerish"],[1,1594,165,79,"captureOptions"],[1,1598,166,2],[1,1600,166,6,"_addEventListener"],[1,1602,166,24,"addEventListener"],[1,1620,166,42,"document"],[1,1629,166,52,"TOUCHMOVE"],[1,1631,166,63,"onPointerish"],[1,1633,166,77,"captureOptions"],[1,1637,167,2],[1,1639,167,6,"_addEventListener"],[1,1641,167,24,"addEventListener"],[1,1659,167,42,"document"],[1,1668,167,52,"TOUCHSTART"],[1,1670,167,64,"onPointerish"],[1,1672,167,78,"captureOptions"],[1,1676,168,2],[1,1678,168,6,"_addEventListener"],[1,1680,168,24,"addEventListener"],[1,1698,168,42,"document"],[1,1707,168,52,"SELECTIONCHANGE"],[1,1709,168,69,"onPointerish"],[1,1711,168,83,"captureOptions"],[1,1715,169,2],[1,1717,169,6,"_addEventListener"],[1,1719,169,24,"addEventListener"],[1,1737,169,42,"document"],[1,1746,169,52,"SCROLL"],[1,1748,169,60,"onPointerish"],[1,1750,169,74,"captureOptions"],[1,1753,196,1],[1,1756]],"functionMap":{"names":["<global>","supportsPointerEvent","restoreModality","onBlurWindow","onFocusWindow","onKeyDown","onVisibilityChange","onPointerish","callListeners","listeners.forEach$argument_0","getActiveModality","getModality","addModalityListener","<anonymous>","testOnly_resetActiveModality"],"mappings":"AAA;2BCmB,sED;AEgC;CFY;AGC;CHQ;AIC;CJE;AKC;CLS;AMC;CNI;AOC;CPyD;AQsB;oBCK;GDE;CRC;AUC;CVE;AWC;CXE;AYC;SCE;GDE;CZC;AcC"}},"type":"js/module"}]}