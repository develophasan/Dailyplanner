{"dependencies":[{"name":"../utils/BinarySearch","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":21,"index":479},"end":{"line":12,"column":53,"index":511}}],"key":"u9ODq9b/YGnfG7pt4RC5SwRdA54=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,e,d){\"use strict\";var t=this&&this.__spreadArray||function(t,i,n){if(n||2===arguments.length)for(var s,o=0,f=i.length;o<f;o++)!s&&o in i||(s||(s=Array.prototype.slice.call(i,0,o)),s[o]=i[o]);return t.concat(s||Array.prototype.slice.call(i))};Object.defineProperty(e,\"__esModule\",{value:!0});var i=r(d[0]),n=(function(){function n(t,i){var n=this;this._layouts=[],this._valueExtractorForBinarySearch=function(t){var i=n._layouts[t];return n._setRelevantBounds(i,n._relevantDim),n._relevantDim.end},this._currentOffset=Math.max(0,i),this._maxOffset=0,this._actualOffset=0,this._renderAheadOffset=t,this._visibleWindow={start:0,end:0},this._engagedWindow={start:0,end:0},this._isHorizontal=!1,this._windowBound=0,this._visibleIndexes=[],this._engagedIndexes=[],this.onVisibleRowsChanged=null,this.onEngagedRowsChanged=null,this._relevantDim={start:0,end:0},this._defaultCorrection={startCorrection:0,endCorrection:0,windowShift:0}}return n.prototype.init=function(t){this._doInitialFit(this._currentOffset,t)},n.prototype.setLayouts=function(t,i){this._layouts=t,this._maxOffset=i},n.prototype.setDimensions=function(t,i){this._isHorizontal=i,this._windowBound=i?t.width:t.height},n.prototype.forceRefresh=function(){var t=this._actualOffset>=0&&this._currentOffset>=this._maxOffset-this._windowBound;return this.forceRefreshWithOffset(this._currentOffset),t},n.prototype.forceRefreshWithOffset=function(t){this._currentOffset=-1,this.updateOffset(t,!1,this._defaultCorrection)},n.prototype.updateOffset=function(t,i,n){var s=t;if(i&&(this._actualOffset=t,s=Math.min(this._maxOffset,Math.max(0,t+(n.windowShift+n.startCorrection)))),this._currentOffset!==s){this._currentOffset=s,this._updateTrackingWindows(t,n);var o=0;this._visibleIndexes.length>0&&(o=this._visibleIndexes[0]),this._fitAndUpdate(o)}},n.prototype.getLastOffset=function(){return this._currentOffset},n.prototype.getLastActualOffset=function(){return this._actualOffset},n.prototype.getEngagedIndexes=function(){return this._engagedIndexes},n.prototype.findFirstLogicallyVisibleIndex=function(){for(var t=this._findFirstVisibleIndexUsingBS(.001),i=t,n=t-1;n>=0;n--)if(this._isHorizontal){if(this._layouts[t].x!==this._layouts[n].x)break;i=n}else{if(this._layouts[t].y!==this._layouts[n].y)break;i=n}return i},n.prototype.updateRenderAheadOffset=function(t){this._renderAheadOffset=Math.max(0,t),this.forceRefreshWithOffset(this._currentOffset)},n.prototype.getCurrentRenderAheadOffset=function(){return this._renderAheadOffset},n.prototype.setActualOffset=function(t){this._actualOffset=t},n.prototype._findFirstVisibleIndexOptimally=function(){var t=0;return this._currentOffset>5e3?t=this._findFirstVisibleIndexUsingBS():this._currentOffset>0&&(t=this._findFirstVisibleIndexLinearly()),t},n.prototype._fitAndUpdate=function(t){var i=[],n=[];this._fitIndexes(i,n,t,!0),this._fitIndexes(i,n,t+1,!1),this._diffUpdateOriginalIndexesAndRaiseEvents(i,n)},n.prototype._doInitialFit=function(t,i){t=Math.min(this._maxOffset,Math.max(0,t)),this._updateTrackingWindows(t,i);var n=this._findFirstVisibleIndexOptimally();this._fitAndUpdate(n)},n.prototype._findFirstVisibleIndexLinearly=function(){for(var t=this._layouts.length,i=null,n={start:0,end:0},s=0;s<t;s++)if(i=this._layouts[s],this._setRelevantBounds(i,n),this._itemIntersectsVisibleWindow(n.start,n.end))return s;return 0},n.prototype._findFirstVisibleIndexUsingBS=function(t){void 0===t&&(t=0);var n=this._layouts.length;return i.default.findClosestHigherValueIndex(n,this._visibleWindow.start+t,this._valueExtractorForBinarySearch)},n.prototype._fitIndexes=function(t,i,n,s){var o=this._layouts.length,f={start:0,end:0},h=0,u=!1;if(n<o)if(s){for(h=n;h>=0;h--)if(this._checkIntersectionAndReport(h,!0,f,t,i))u=!0;else if(u)break}else for(h=n;h<o;h++)if(this._checkIntersectionAndReport(h,!1,f,t,i))u=!0;else if(u)break},n.prototype._checkIntersectionAndReport=function(t,i,n,s,o){var f=this._layouts[t],h=!1;return this._setRelevantBounds(f,n),this._itemIntersectsVisibleWindow(n.start,n.end)?(i?(s.splice(0,0,t),o.splice(0,0,t)):(s.push(t),o.push(t)),h=!0):this._itemIntersectsEngagedWindow(n.start,n.end)&&(i?o.splice(0,0,t):o.push(t),h=!0),h},n.prototype._setRelevantBounds=function(t,i){this._isHorizontal?(i.end=t.x+t.width,i.start=t.x):(i.end=t.y+t.height,i.start=t.y)},n.prototype._isItemInBounds=function(t,i){return t.start<i&&t.end>i},n.prototype._isItemBoundsBeyondWindow=function(t,i,n){return t.start>=i&&t.end<=n},n.prototype._isZeroHeightEdgeElement=function(t,i,n){return i-n===0&&(t.start===i||t.end===n)},n.prototype._itemIntersectsWindow=function(t,i,n){return this._isItemInBounds(t,i)||this._isItemInBounds(t,n)||this._isItemBoundsBeyondWindow(t,i,n)||this._isZeroHeightEdgeElement(t,i,n)},n.prototype._itemIntersectsEngagedWindow=function(t,i){return this._itemIntersectsWindow(this._engagedWindow,t,i)},n.prototype._itemIntersectsVisibleWindow=function(t,i){return this._itemIntersectsWindow(this._visibleWindow,t,i)},n.prototype._updateTrackingWindows=function(t,i){var n=i.windowShift+i.startCorrection,s=i.windowShift+i.endCorrection,o=t+n,f=t+this._windowBound+s;this._engagedWindow.start=Math.max(0,o-this._renderAheadOffset),this._engagedWindow.end=f+this._renderAheadOffset,this._visibleWindow.start=o,this._visibleWindow.end=f},n.prototype._diffUpdateOriginalIndexesAndRaiseEvents=function(t,i){this._diffArraysAndCallFunc(t,this._visibleIndexes,this.onVisibleRowsChanged),this._diffArraysAndCallFunc(i,this._engagedIndexes,this.onEngagedRowsChanged),this._visibleIndexes=t,this._engagedIndexes=i},n.prototype._diffArraysAndCallFunc=function(i,n,s){if(s){var o=this._calculateArrayDiff(i,n),f=this._calculateArrayDiff(n,i);(o.length>0||f.length>0)&&s(t([],i,!0),o,f)}},n.prototype._calculateArrayDiff=function(t,n){for(var s=t.length,o=[],f=0;f<s;f++)-1===i.default.findIndexOf(n,t[f])&&o.push(t[f]);return o},n})();e.default=n});","lineCount":1,"map":[[1,29,1,0],[1,42,2,0],[1,46,2,4,"__spreadArray"],[1,48,2,21,"this"],[1,54,2,29,"this"],[1,59,2,34,"__spreadArray"],[1,74,2,52],[1,83,2,62,"to"],[1,85,2,66,"from"],[1,87,2,72,"pack"],[1,90,3,4],[1,93,3,8,"pack"],[1,96,3,37],[1,100,3,16,"arguments"],[1,110,3,26,"length"],[1,117,3,40],[1,121,3,45],[1,125,3,73,"ar"],[1,127,3,49,"i"],[1,129,3,53],[1,131,3,56,"l"],[1,133,3,60,"from"],[1,135,3,65,"length"],[1,142,3,77,"i"],[1,144,3,81,"l"],[1,146,3,84,"i"],[1,151,4,12,"ar"],[1,154,4,20,"i"],[1,159,4,25,"from"],[1,163,5,17,"ar"],[1,167,5,21,"ar"],[1,169,5,26,"Array"],[1,175,5,32,"prototype"],[1,185,5,42,"slice"],[1,191,5,48,"call"],[1,196,5,53,"from"],[1,198,5,59],[1,200,5,62,"i"],[1,204,6,12,"ar"],[1,206,6,15,"i"],[1,209,6,20,"from"],[1,211,6,25,"i"],[1,215,9,4],[1,222,9,11,"to"],[1,224,9,14,"concat"],[1,231,9,21,"ar"],[1,234,9,27,"Array"],[1,240,9,33,"prototype"],[1,250,9,43,"slice"],[1,256,9,49,"call"],[1,261,9,54,"from"],[1,264,10,0],[1,266,11,0,"Object"],[1,273,11,7,"defineProperty"],[1,288,11,22,"exports"],[1,290,11,31],[1,303,11,45],[1,304,11,47,"value"],[1,311,11,54],[1,315,12,0],[1,319,12,4,"BinarySearch_1"],[1,321,12,21,"require"],[1,323,12,28,"d"],[1,325,12,28],[1,329,13,4,"ViewabilityTracker"],[1,332,13,40],[1,343,14,4],[1,352,14,13,"ViewabilityTracker"],[1,354,14,32,"renderAheadOffset"],[1,356,14,51,"initialOffset"],[1,359,15,8],[1,363,15,12,"_this"],[1,365,15,20,"this"],[1,370,16,8,"this"],[1,375,16,13,"_layouts"],[1,384,16,24],[1,387,17,8,"this"],[1,392,17,13,"_valueExtractorForBinarySearch"],[1,423,17,46],[1,432,17,56,"index"],[1,435,18,12],[1,439,18,16,"itemRect"],[1,441,18,27,"_this"],[1,443,18,33,"_layouts"],[1,452,18,42,"index"],[1,455,20,12],[1,462,19,12,"_this"],[1,464,19,18,"_setRelevantBounds"],[1,483,19,37,"itemRect"],[1,485,19,47,"_this"],[1,487,19,53,"_relevantDim"],[1,501,20,19,"_this"],[1,503,20,25,"_relevantDim"],[1,516,20,38,"end"],[1,519,21,8],[1,521,22,8,"this"],[1,526,22,13,"_currentOffset"],[1,541,22,30,"Math"],[1,546,22,35,"max"],[1,550,22,39],[1,552,22,42,"initialOffset"],[1,555,23,8,"this"],[1,560,23,13,"_maxOffset"],[1,571,23,26],[1,573,24,8,"this"],[1,578,24,13,"_actualOffset"],[1,592,24,29],[1,594,25,8,"this"],[1,599,25,13,"_renderAheadOffset"],[1,618,25,34,"renderAheadOffset"],[1,620,26,8,"this"],[1,625,26,13,"_visibleWindow"],[1,640,26,30],[1,641,26,32,"start"],[1,647,26,39],[1,649,26,42,"end"],[1,653,26,47],[1,656,27,8,"this"],[1,661,27,13,"_engagedWindow"],[1,676,27,30],[1,677,27,32,"start"],[1,683,27,39],[1,685,27,42,"end"],[1,689,27,47],[1,692,28,8,"this"],[1,697,28,13,"_isHorizontal"],[1,712,28,29],[1,714,29,8,"this"],[1,719,29,13,"_windowBound"],[1,732,29,28],[1,734,30,8,"this"],[1,739,30,13,"_visibleIndexes"],[1,755,30,31],[1,758,31,8,"this"],[1,763,31,13,"_engagedIndexes"],[1,779,31,31],[1,782,32,8,"this"],[1,787,32,13,"onVisibleRowsChanged"],[1,808,32,36],[1,813,33,8,"this"],[1,818,33,13,"onEngagedRowsChanged"],[1,839,33,36],[1,844,34,8,"this"],[1,849,34,13,"_relevantDim"],[1,862,34,28],[1,863,34,30,"start"],[1,869,34,37],[1,871,34,40,"end"],[1,875,34,45],[1,878,35,8,"this"],[1,883,35,13,"_defaultCorrection"],[1,902,35,34],[1,903,35,36,"startCorrection"],[1,919,35,53],[1,921,35,56,"endCorrection"],[1,935,35,71],[1,937,35,74,"windowShift"],[1,949,35,87],[1,951,36,4],[1,952,286,4],[1,959,37,4,"ViewabilityTracker"],[1,961,37,23,"prototype"],[1,971,37,33,"init"],[1,976,37,40],[1,985,37,50,"windowCorrection"],[1,988,38,8,"this"],[1,993,38,13,"_doInitialFit"],[1,1007,38,27,"this"],[1,1012,38,32,"_currentOffset"],[1,1027,38,48,"windowCorrection"],[1,1029,39,4],[1,1031,40,4,"ViewabilityTracker"],[1,1033,40,23,"prototype"],[1,1043,40,33,"setLayouts"],[1,1054,40,46],[1,1063,40,56,"layouts"],[1,1065,40,65,"maxOffset"],[1,1068,41,8,"this"],[1,1073,41,13,"_layouts"],[1,1082,41,24,"layouts"],[1,1084,42,8,"this"],[1,1089,42,13,"_maxOffset"],[1,1100,42,26,"maxOffset"],[1,1101,43,4],[1,1103,44,4,"ViewabilityTracker"],[1,1105,44,23,"prototype"],[1,1115,44,33,"setDimensions"],[1,1129,44,49],[1,1138,44,59,"dimension"],[1,1140,44,70,"isHorizontal"],[1,1143,45,8,"this"],[1,1148,45,13,"_isHorizontal"],[1,1162,45,29,"isHorizontal"],[1,1164,46,8,"this"],[1,1169,46,13,"_windowBound"],[1,1182,46,28,"isHorizontal"],[1,1184,46,43,"dimension"],[1,1186,46,53,"width"],[1,1192,46,61,"dimension"],[1,1194,46,71,"height"],[1,1200,47,4],[1,1202,48,4,"ViewabilityTracker"],[1,1204,48,23,"prototype"],[1,1214,48,33,"forceRefresh"],[1,1227,48,48],[1,1238,49,8],[1,1242,49,12,"shouldForceScroll"],[1,1244,49,32,"this"],[1,1249,49,37,"_actualOffset"],[1,1264,49,54],[1,1267,49,59,"this"],[1,1272,49,64,"_currentOffset"],[1,1288,49,83,"this"],[1,1293,49,88,"_maxOffset"],[1,1304,49,101,"this"],[1,1309,49,106,"_windowBound"],[1,1322,51,8],[1,1329,50,8,"this"],[1,1334,50,13,"forceRefreshWithOffset"],[1,1357,50,36,"this"],[1,1362,50,41,"_currentOffset"],[1,1378,51,15,"shouldForceScroll"],[1,1379,52,4],[1,1381,53,4,"ViewabilityTracker"],[1,1383,53,23,"prototype"],[1,1393,53,33,"forceRefreshWithOffset"],[1,1416,53,58],[1,1425,53,68,"offset"],[1,1428,54,8,"this"],[1,1433,54,13,"_currentOffset"],[1,1449,54,27],[1,1451,55,8,"this"],[1,1456,55,13,"updateOffset"],[1,1469,55,26,"offset"],[1,1472,55,34],[1,1474,55,41,"this"],[1,1479,55,46,"_defaultCorrection"],[1,1498,56,4],[1,1500,57,4,"ViewabilityTracker"],[1,1502,57,23,"prototype"],[1,1512,57,33,"updateOffset"],[1,1525,57,48],[1,1534,57,58,"offset"],[1,1536,57,66,"isActual"],[1,1538,57,76,"windowCorrection"],[1,1541,58,8],[1,1545,58,12,"correctedOffset"],[1,1547,58,30,"offset"],[1,1549,63,8],[1,1552,59,12,"isActual"],[1,1556,60,12,"this"],[1,1561,60,17,"_actualOffset"],[1,1575,60,33,"offset"],[1,1577,61,12,"correctedOffset"],[1,1579,61,30,"Math"],[1,1584,61,35,"min"],[1,1588,61,39,"this"],[1,1593,61,44,"_maxOffset"],[1,1604,61,56,"Math"],[1,1609,61,61,"max"],[1,1613,61,65],[1,1615,61,68,"offset"],[1,1618,61,78,"windowCorrection"],[1,1620,61,95,"windowShift"],[1,1632,61,109,"windowCorrection"],[1,1634,61,126,"startCorrection"],[1,1654,63,12,"this"],[1,1659,63,17,"_currentOffset"],[1,1676,63,36,"correctedOffset"],[1,1678,63,53],[1,1679,64,12,"this"],[1,1684,64,17,"_currentOffset"],[1,1699,64,34,"correctedOffset"],[1,1701,65,12,"this"],[1,1706,65,17,"_updateTrackingWindows"],[1,1729,65,40,"offset"],[1,1731,65,48,"windowCorrection"],[1,1734,66,12],[1,1738,66,16,"startIndex"],[1,1740,66,29],[1,1742,67,16,"this"],[1,1747,67,21,"_visibleIndexes"],[1,1763,67,37,"length"],[1,1770,67,46],[1,1774,68,16,"startIndex"],[1,1776,68,29,"this"],[1,1781,68,34,"_visibleIndexes"],[1,1797,68,50],[1,1801,70,12,"this"],[1,1806,70,17,"_fitAndUpdate"],[1,1820,70,31,"startIndex"],[1,1822,71,8],[1,1823,72,4],[1,1825,73,4,"ViewabilityTracker"],[1,1827,73,23,"prototype"],[1,1837,73,33,"getLastOffset"],[1,1851,73,49],[1,1862,74,8],[1,1869,74,15,"this"],[1,1874,74,20,"_currentOffset"],[1,1888,75,4],[1,1890,76,4,"ViewabilityTracker"],[1,1892,76,23,"prototype"],[1,1902,76,33,"getLastActualOffset"],[1,1922,76,55],[1,1933,77,8],[1,1940,77,15,"this"],[1,1945,77,20,"_actualOffset"],[1,1958,78,4],[1,1960,79,4,"ViewabilityTracker"],[1,1962,79,23,"prototype"],[1,1972,79,33,"getEngagedIndexes"],[1,1990,79,53],[1,2001,80,8],[1,2008,80,15,"this"],[1,2013,80,20,"_engagedIndexes"],[1,2028,81,4],[1,2030,82,4,"ViewabilityTracker"],[1,2032,82,23,"prototype"],[1,2042,82,33,"findFirstLogicallyVisibleIndex"],[1,2073,82,66],[1,2084,85,8],[1,2088,83,8],[1,2092,83,12,"relevantIndex"],[1,2094,83,28,"this"],[1,2099,83,33,"_findFirstVisibleIndexUsingBS"],[1,2129,83,63],[1,2135,84,12,"result"],[1,2137,84,21,"relevantIndex"],[1,2139,85,17,"i"],[1,2141,85,21,"relevantIndex"],[1,2143,85,37],[1,2145,85,40,"i"],[1,2148,85,45],[1,2150,85,48,"i"],[1,2154,86,12],[1,2157,86,16,"this"],[1,2162,86,21,"_isHorizontal"],[1,2176,86,36],[1,2177,87,16],[1,2180,87,20,"this"],[1,2185,87,25,"_layouts"],[1,2194,87,34,"relevantIndex"],[1,2197,87,49,"x"],[1,2201,87,55,"this"],[1,2206,87,60,"_layouts"],[1,2215,87,69,"i"],[1,2218,87,72,"x"],[1,2220,88,20],[1,2226,91,20,"result"],[1,2228,91,29,"i"],[1,2229,93,12],[1,2234,94,17],[1,2235,95,16],[1,2238,95,20,"this"],[1,2243,95,25,"_layouts"],[1,2252,95,34,"relevantIndex"],[1,2255,95,49,"y"],[1,2259,95,55,"this"],[1,2264,95,60,"_layouts"],[1,2273,95,69,"i"],[1,2276,95,72,"y"],[1,2278,96,20],[1,2284,99,20,"result"],[1,2286,99,29,"i"],[1,2287,101,12],[1,2288,103,8],[1,2295,103,15,"result"],[1,2296,104,4],[1,2298,105,4,"ViewabilityTracker"],[1,2300,105,23,"prototype"],[1,2310,105,33,"updateRenderAheadOffset"],[1,2334,105,59],[1,2343,105,69,"renderAheadOffset"],[1,2346,106,8,"this"],[1,2351,106,13,"_renderAheadOffset"],[1,2370,106,34,"Math"],[1,2375,106,39,"max"],[1,2379,106,43],[1,2381,106,46,"renderAheadOffset"],[1,2384,107,8,"this"],[1,2389,107,13,"forceRefreshWithOffset"],[1,2412,107,36,"this"],[1,2417,107,41,"_currentOffset"],[1,2432,108,4],[1,2434,109,4,"ViewabilityTracker"],[1,2436,109,23,"prototype"],[1,2446,109,33,"getCurrentRenderAheadOffset"],[1,2474,109,63],[1,2485,110,8],[1,2492,110,15,"this"],[1,2497,110,20,"_renderAheadOffset"],[1,2515,111,4],[1,2517,112,4,"ViewabilityTracker"],[1,2519,112,23,"prototype"],[1,2529,112,33,"setActualOffset"],[1,2545,112,51],[1,2554,112,61,"actualOffset"],[1,2557,113,8,"this"],[1,2562,113,13,"_actualOffset"],[1,2576,113,29,"actualOffset"],[1,2577,114,4],[1,2579,115,4,"ViewabilityTracker"],[1,2581,115,23,"prototype"],[1,2591,115,33,"_findFirstVisibleIndexOptimally"],[1,2623,115,67],[1,2634,116,8],[1,2638,116,12,"firstVisibleIndex"],[1,2640,116,32],[1,2642,124,8],[1,2649,118,12,"this"],[1,2654,118,17,"_currentOffset"],[1,2669,118,34],[1,2673,119,12,"firstVisibleIndex"],[1,2675,119,32,"this"],[1,2680,119,37,"_findFirstVisibleIndexUsingBS"],[1,2712,121,17,"this"],[1,2717,121,22,"_currentOffset"],[1,2732,121,39],[1,2736,122,12,"firstVisibleIndex"],[1,2738,122,32,"this"],[1,2743,122,37,"_findFirstVisibleIndexLinearly"],[1,2777,124,15,"firstVisibleIndex"],[1,2778,125,4],[1,2780,126,4,"ViewabilityTracker"],[1,2782,126,23,"prototype"],[1,2792,126,33,"_fitAndUpdate"],[1,2806,126,49],[1,2815,126,59,"startIndex"],[1,2818,127,8],[1,2822,127,12,"newVisibleItems"],[1,2824,127,30],[1,2827,128,12,"newEngagedItems"],[1,2829,128,30],[1,2832,129,8,"this"],[1,2837,129,13,"_fitIndexes"],[1,2849,129,25,"newVisibleItems"],[1,2851,129,42,"newEngagedItems"],[1,2853,129,59,"startIndex"],[1,2856,129,71],[1,2859,130,8,"this"],[1,2864,130,13,"_fitIndexes"],[1,2876,130,25,"newVisibleItems"],[1,2878,130,42,"newEngagedItems"],[1,2880,130,59,"startIndex"],[1,2882,130,72],[1,2885,130,75],[1,2888,131,8,"this"],[1,2893,131,13,"_diffUpdateOriginalIndexesAndRaiseEvents"],[1,2934,131,54,"newVisibleItems"],[1,2936,131,71,"newEngagedItems"],[1,2938,132,4],[1,2940,133,4,"ViewabilityTracker"],[1,2942,133,23,"prototype"],[1,2952,133,33,"_doInitialFit"],[1,2966,133,49],[1,2975,133,59,"offset"],[1,2977,133,67,"windowCorrection"],[1,2980,134,8,"offset"],[1,2982,134,17,"Math"],[1,2987,134,22,"min"],[1,2991,134,26,"this"],[1,2996,134,31,"_maxOffset"],[1,3007,134,43,"Math"],[1,3012,134,48,"max"],[1,3016,134,52],[1,3018,134,55,"offset"],[1,3022,135,8,"this"],[1,3027,135,13,"_updateTrackingWindows"],[1,3050,135,36,"offset"],[1,3052,135,44,"windowCorrection"],[1,3055,136,8],[1,3059,136,12,"firstVisibleIndex"],[1,3061,136,32,"this"],[1,3066,136,37,"_findFirstVisibleIndexOptimally"],[1,3100,137,8,"this"],[1,3105,137,13,"_fitAndUpdate"],[1,3119,137,27,"firstVisibleIndex"],[1,3121,138,4],[1,3123,140,4,"ViewabilityTracker"],[1,3125,140,23,"prototype"],[1,3135,140,33,"_findFirstVisibleIndexLinearly"],[1,3166,140,66],[1,3177,144,8],[1,3181,141,8],[1,3185,141,12,"count"],[1,3187,141,20,"this"],[1,3192,141,25,"_layouts"],[1,3201,141,34,"length"],[1,3208,142,12,"itemRect"],[1,3210,142,23],[1,3215,143,12,"relevantDim"],[1,3217,143,26],[1,3218,143,28,"start"],[1,3224,143,35],[1,3226,143,38,"end"],[1,3230,143,43],[1,3233,144,17,"i"],[1,3235,144,21],[1,3237,144,24,"i"],[1,3239,144,28,"count"],[1,3241,144,35,"i"],[1,3245,147,12],[1,3248,145,12,"itemRect"],[1,3250,145,23,"this"],[1,3255,145,28,"_layouts"],[1,3264,145,37,"i"],[1,3267,146,12,"this"],[1,3272,146,17,"_setRelevantBounds"],[1,3291,146,36,"itemRect"],[1,3293,146,46,"relevantDim"],[1,3296,147,16,"this"],[1,3301,147,21,"_itemIntersectsVisibleWindow"],[1,3330,147,50,"relevantDim"],[1,3332,147,62,"start"],[1,3338,147,69,"relevantDim"],[1,3340,147,81,"end"],[1,3345,148,16],[1,3352,148,23,"i"],[1,3354,151,8],[1,3361,151,15],[1,3362,152,4],[1,3364,153,4,"ViewabilityTracker"],[1,3366,153,23,"prototype"],[1,3376,153,33,"_findFirstVisibleIndexUsingBS"],[1,3406,153,65],[1,3415,153,75,"bias"],[1,3423,154,16,"undefined"],[1,3427,154,12,"bias"],[1,3431,154,31,"bias"],[1,3433,154,38],[1,3436,155,8],[1,3440,155,12,"count"],[1,3442,155,20,"this"],[1,3447,155,25,"_layouts"],[1,3456,155,34,"length"],[1,3463,156,8],[1,3470,156,15,"BinarySearch_1"],[1,3472,156,30,"default"],[1,3480,156,38,"findClosestHigherValueIndex"],[1,3508,156,66,"count"],[1,3510,156,73,"this"],[1,3515,156,78,"_visibleWindow"],[1,3530,156,93,"start"],[1,3536,156,101,"bias"],[1,3538,156,107,"this"],[1,3543,156,112,"_valueExtractorForBinarySearch"],[1,3574,157,4],[1,3576,159,4,"ViewabilityTracker"],[1,3578,159,23,"prototype"],[1,3588,159,33,"_fitIndexes"],[1,3600,159,47],[1,3609,159,57,"newVisibleIndexes"],[1,3611,159,76,"newEngagedIndexes"],[1,3613,159,95,"startIndex"],[1,3615,159,107,"isReverse"],[1,3618,160,8],[1,3622,160,12,"count"],[1,3624,160,20,"this"],[1,3629,160,25,"_layouts"],[1,3638,160,34,"length"],[1,3645,161,12,"relevantDim"],[1,3647,161,26],[1,3648,161,28,"start"],[1,3654,161,35],[1,3656,161,38,"end"],[1,3660,161,43],[1,3663,162,12,"i"],[1,3665,162,16],[1,3667,163,12,"atLeastOneLocated"],[1,3670,163,32],[1,3672,164,8],[1,3675,164,12,"startIndex"],[1,3677,164,25,"count"],[1,3679,165,12],[1,3682,165,17,"isReverse"],[1,3685,178,16],[1,3689,178,21,"i"],[1,3691,178,25,"startIndex"],[1,3693,178,37,"i"],[1,3696,178,42],[1,3698,178,45,"i"],[1,3702,179,20],[1,3705,179,24,"this"],[1,3710,179,29,"_checkIntersectionAndReport"],[1,3738,179,57,"i"],[1,3741,179,60],[1,3743,179,66,"relevantDim"],[1,3745,179,79,"newVisibleIndexes"],[1,3747,179,98,"newEngagedIndexes"],[1,3750,180,24,"atLeastOneLocated"],[1,3753,180,44],[1,3760,183,24],[1,3763,183,28,"atLeastOneLocated"],[1,3765,184,28],[1,3776,166,16],[1,3780,166,21,"i"],[1,3782,166,25,"startIndex"],[1,3784,166,37,"i"],[1,3786,166,41,"count"],[1,3788,166,48,"i"],[1,3792,167,20],[1,3795,167,24,"this"],[1,3800,167,29,"_checkIntersectionAndReport"],[1,3828,167,57,"i"],[1,3831,167,60],[1,3833,167,67,"relevantDim"],[1,3835,167,80,"newVisibleIndexes"],[1,3837,167,99,"newEngagedIndexes"],[1,3840,168,24,"atLeastOneLocated"],[1,3843,168,44],[1,3850,171,24],[1,3853,171,28,"atLeastOneLocated"],[1,3855,172,28],[1,3860,190,4],[1,3862,191,4,"ViewabilityTracker"],[1,3864,191,23,"prototype"],[1,3874,191,33,"_checkIntersectionAndReport"],[1,3902,191,63],[1,3911,191,73,"index"],[1,3913,191,80,"insertOnTop"],[1,3915,191,93,"relevantDim"],[1,3917,191,106,"newVisibleIndexes"],[1,3919,191,125,"newEngagedIndexes"],[1,3922,192,8],[1,3926,192,12,"itemRect"],[1,3928,192,23,"this"],[1,3933,192,28,"_layouts"],[1,3942,192,37,"index"],[1,3945,193,12,"isFound"],[1,3948,193,22],[1,3950,216,8],[1,3957,194,8,"this"],[1,3962,194,13,"_setRelevantBounds"],[1,3981,194,32,"itemRect"],[1,3983,194,42,"relevantDim"],[1,3986,195,12,"this"],[1,3991,195,17,"_itemIntersectsVisibleWindow"],[1,4020,195,46,"relevantDim"],[1,4022,195,58,"start"],[1,4028,195,65,"relevantDim"],[1,4030,195,77,"end"],[1,4036,196,16,"insertOnTop"],[1,4039,197,16,"newVisibleIndexes"],[1,4041,197,34,"splice"],[1,4048,197,41],[1,4050,197,44],[1,4052,197,47,"index"],[1,4055,198,16,"newEngagedIndexes"],[1,4057,198,34,"splice"],[1,4064,198,41],[1,4066,198,44],[1,4068,198,47,"index"],[1,4073,201,16,"newVisibleIndexes"],[1,4075,201,34,"push"],[1,4080,201,39,"index"],[1,4083,202,16,"newEngagedIndexes"],[1,4085,202,34,"push"],[1,4090,202,39,"index"],[1,4094,204,12,"isFound"],[1,4097,204,22],[1,4100,206,17,"this"],[1,4105,206,22,"_itemIntersectsEngagedWindow"],[1,4134,206,51,"relevantDim"],[1,4136,206,63,"start"],[1,4142,206,70,"relevantDim"],[1,4144,206,82,"end"],[1,4151,208,16,"insertOnTop"],[1,4153,209,16,"newEngagedIndexes"],[1,4155,209,34,"splice"],[1,4162,209,41],[1,4164,209,44],[1,4166,209,47,"index"],[1,4169,212,16,"newEngagedIndexes"],[1,4171,212,34,"push"],[1,4176,212,39,"index"],[1,4179,214,12,"isFound"],[1,4182,214,22],[1,4185,216,15,"isFound"],[1,4186,217,4],[1,4188,218,4,"ViewabilityTracker"],[1,4190,218,23,"prototype"],[1,4200,218,33,"_setRelevantBounds"],[1,4219,218,54],[1,4228,218,64,"itemRect"],[1,4230,218,74,"relevantDim"],[1,4233,219,12,"this"],[1,4238,219,17,"_isHorizontal"],[1,4253,220,12,"relevantDim"],[1,4255,220,24,"end"],[1,4259,220,30,"itemRect"],[1,4261,220,39,"x"],[1,4263,220,43,"itemRect"],[1,4265,220,52,"width"],[1,4271,221,12,"relevantDim"],[1,4273,221,24,"start"],[1,4279,221,32,"itemRect"],[1,4281,221,41,"x"],[1,4285,224,12,"relevantDim"],[1,4287,224,24,"end"],[1,4291,224,30,"itemRect"],[1,4293,224,39,"y"],[1,4295,224,43,"itemRect"],[1,4297,224,52,"height"],[1,4304,225,12,"relevantDim"],[1,4306,225,24,"start"],[1,4312,225,32,"itemRect"],[1,4314,225,41,"y"],[1,4316,227,4],[1,4318,228,4,"ViewabilityTracker"],[1,4320,228,23,"prototype"],[1,4330,228,33,"_isItemInBounds"],[1,4346,228,51],[1,4355,228,61,"window"],[1,4357,228,69,"itemBound"],[1,4360,229,8],[1,4367,229,16,"window"],[1,4369,229,23,"start"],[1,4375,229,31,"itemBound"],[1,4378,229,44,"window"],[1,4380,229,51,"end"],[1,4384,229,57,"itemBound"],[1,4385,230,4],[1,4387,231,4,"ViewabilityTracker"],[1,4389,231,23,"prototype"],[1,4399,231,33,"_isItemBoundsBeyondWindow"],[1,4425,231,61],[1,4434,231,71,"window"],[1,4436,231,79,"startBound"],[1,4438,231,91,"endBound"],[1,4441,232,8],[1,4448,232,16,"window"],[1,4450,232,23,"start"],[1,4457,232,32,"startBound"],[1,4460,232,46,"window"],[1,4462,232,53,"end"],[1,4467,232,60,"endBound"],[1,4468,233,4],[1,4470,234,4,"ViewabilityTracker"],[1,4472,234,23,"prototype"],[1,4482,234,33,"_isZeroHeightEdgeElement"],[1,4507,234,60],[1,4516,234,70,"window"],[1,4518,234,78,"startBound"],[1,4520,234,90,"endBound"],[1,4523,235,8],[1,4530,235,15,"startBound"],[1,4532,235,28,"endBound"],[1,4536,235,41],[1,4540,235,47,"window"],[1,4542,235,54,"start"],[1,4550,235,64,"startBound"],[1,4553,235,78,"window"],[1,4555,235,85,"end"],[1,4561,235,93,"endBound"],[1,4563,236,4],[1,4565,237,4,"ViewabilityTracker"],[1,4567,237,23,"prototype"],[1,4577,237,33,"_itemIntersectsWindow"],[1,4599,237,57],[1,4608,237,67,"window"],[1,4610,237,75,"startBound"],[1,4612,237,87,"endBound"],[1,4615,238,8],[1,4622,238,15,"this"],[1,4627,238,20,"_isItemInBounds"],[1,4643,238,36,"window"],[1,4645,238,44,"startBound"],[1,4649,239,12,"this"],[1,4654,239,17,"_isItemInBounds"],[1,4670,239,33,"window"],[1,4672,239,41,"endBound"],[1,4676,240,12,"this"],[1,4681,240,17,"_isItemBoundsBeyondWindow"],[1,4707,240,43,"window"],[1,4709,240,51,"startBound"],[1,4711,240,63,"endBound"],[1,4715,241,12,"this"],[1,4720,241,17,"_isZeroHeightEdgeElement"],[1,4745,241,42,"window"],[1,4747,241,50,"startBound"],[1,4749,241,62,"endBound"],[1,4751,242,4],[1,4753,243,4,"ViewabilityTracker"],[1,4755,243,23,"prototype"],[1,4765,243,33,"_itemIntersectsEngagedWindow"],[1,4794,243,64],[1,4803,243,74,"startBound"],[1,4805,243,86,"endBound"],[1,4808,244,8],[1,4815,244,15,"this"],[1,4820,244,20,"_itemIntersectsWindow"],[1,4842,244,42,"this"],[1,4847,244,47,"_engagedWindow"],[1,4862,244,63,"startBound"],[1,4864,244,75,"endBound"],[1,4866,245,4],[1,4868,246,4,"ViewabilityTracker"],[1,4870,246,23,"prototype"],[1,4880,246,33,"_itemIntersectsVisibleWindow"],[1,4909,246,64],[1,4918,246,74,"startBound"],[1,4920,246,86,"endBound"],[1,4923,247,8],[1,4930,247,15,"this"],[1,4935,247,20,"_itemIntersectsWindow"],[1,4957,247,42,"this"],[1,4962,247,47,"_visibleWindow"],[1,4977,247,63,"startBound"],[1,4979,247,75,"endBound"],[1,4981,248,4],[1,4983,249,4,"ViewabilityTracker"],[1,4985,249,23,"prototype"],[1,4995,249,33,"_updateTrackingWindows"],[1,5018,249,58],[1,5027,249,68,"offset"],[1,5029,249,76,"correction"],[1,5032,250,8],[1,5036,250,12,"startCorrection"],[1,5038,250,30,"correction"],[1,5040,250,41,"windowShift"],[1,5052,250,55,"correction"],[1,5054,250,66,"startCorrection"],[1,5070,251,12,"bottomCorrection"],[1,5072,251,31,"correction"],[1,5074,251,42,"windowShift"],[1,5086,251,56,"correction"],[1,5088,251,67,"endCorrection"],[1,5102,252,12,"startOffset"],[1,5104,252,26,"offset"],[1,5106,252,35,"startCorrection"],[1,5108,253,12,"endOffset"],[1,5110,253,25,"offset"],[1,5112,253,34,"this"],[1,5117,253,39,"_windowBound"],[1,5130,253,55,"bottomCorrection"],[1,5132,254,8,"this"],[1,5137,254,13,"_engagedWindow"],[1,5152,254,28,"start"],[1,5158,254,36,"Math"],[1,5163,254,41,"max"],[1,5167,254,45],[1,5169,254,48,"startOffset"],[1,5171,254,62,"this"],[1,5176,254,67,"_renderAheadOffset"],[1,5196,255,8,"this"],[1,5201,255,13,"_engagedWindow"],[1,5216,255,28,"end"],[1,5220,255,34,"endOffset"],[1,5222,255,46,"this"],[1,5227,255,51,"_renderAheadOffset"],[1,5246,256,8,"this"],[1,5251,256,13,"_visibleWindow"],[1,5266,256,28,"start"],[1,5272,256,36,"startOffset"],[1,5274,257,8,"this"],[1,5279,257,13,"_visibleWindow"],[1,5294,257,28,"end"],[1,5298,257,34,"endOffset"],[1,5299,258,4],[1,5301,260,4,"ViewabilityTracker"],[1,5303,260,23,"prototype"],[1,5313,260,33,"_diffUpdateOriginalIndexesAndRaiseEvents"],[1,5354,260,76],[1,5363,260,86,"newVisibleItems"],[1,5365,260,103,"newEngagedItems"],[1,5368,261,8,"this"],[1,5373,261,13,"_diffArraysAndCallFunc"],[1,5396,261,36,"newVisibleItems"],[1,5398,261,53,"this"],[1,5403,261,58,"_visibleIndexes"],[1,5419,261,75,"this"],[1,5424,261,80,"onVisibleRowsChanged"],[1,5446,262,8,"this"],[1,5451,262,13,"_diffArraysAndCallFunc"],[1,5474,262,36,"newEngagedItems"],[1,5476,262,53,"this"],[1,5481,262,58,"_engagedIndexes"],[1,5497,262,75,"this"],[1,5502,262,80,"onEngagedRowsChanged"],[1,5524,263,8,"this"],[1,5529,263,13,"_visibleIndexes"],[1,5545,263,31,"newVisibleItems"],[1,5547,264,8,"this"],[1,5552,264,13,"_engagedIndexes"],[1,5568,264,31,"newEngagedItems"],[1,5569,265,4],[1,5571,266,4,"ViewabilityTracker"],[1,5573,266,23,"prototype"],[1,5583,266,33,"_diffArraysAndCallFunc"],[1,5606,266,58],[1,5615,266,68,"newItems"],[1,5617,266,78,"oldItems"],[1,5619,266,88,"func"],[1,5622,267,8],[1,5625,267,12,"func"],[1,5627,267,18],[1,5628,268,12],[1,5632,268,16,"now"],[1,5634,268,22,"this"],[1,5639,268,27,"_calculateArrayDiff"],[1,5659,268,47,"newItems"],[1,5661,268,57,"oldItems"],[1,5664,269,16,"notNow"],[1,5666,269,25,"this"],[1,5671,269,30,"_calculateArrayDiff"],[1,5691,269,50,"oldItems"],[1,5693,269,60,"newItems"],[1,5697,270,16,"now"],[1,5699,270,20,"length"],[1,5706,270,29],[1,5709,270,34,"notNow"],[1,5711,270,41,"length"],[1,5718,270,50],[1,5722,271,16,"func"],[1,5724,271,21,"__spreadArray"],[1,5726,271,35],[1,5729,271,39,"newItems"],[1,5732,271,49],[1,5735,271,56,"now"],[1,5737,271,61,"notNow"],[1,5739,273,8],[1,5740,274,4],[1,5742,276,4,"ViewabilityTracker"],[1,5744,276,23,"prototype"],[1,5754,276,33,"_calculateArrayDiff"],[1,5774,276,55],[1,5783,276,65,"arr1"],[1,5785,276,71,"arr2"],[1,5788,279,8],[1,5792,277,8],[1,5796,277,12,"len"],[1,5798,277,18,"arr1"],[1,5800,277,23,"length"],[1,5807,278,12,"diffArr"],[1,5809,278,22],[1,5812,279,17,"i"],[1,5814,279,21],[1,5816,279,24,"i"],[1,5818,279,28,"len"],[1,5820,279,33,"i"],[1,5825,280,65],[1,5829,280,16,"BinarySearch_1"],[1,5831,280,31,"default"],[1,5839,280,39,"findIndexOf"],[1,5851,280,51,"arr2"],[1,5853,280,57,"arr1"],[1,5855,280,62,"i"],[1,5860,281,16,"diffArr"],[1,5862,281,24,"push"],[1,5867,281,29,"arr1"],[1,5869,281,34,"i"],[1,5873,284,8],[1,5880,284,15,"diffArr"],[1,5881,285,4],[1,5883,286,11,"ViewabilityTracker"],[1,5884,287,0],[1,5886,13,40],[1,5889,288,0,"exports"],[1,5891,288,8,"default"],[1,5899,288,18,"ViewabilityTracker"],[1,5900,288,37],[1,5903]],"functionMap":{"names":["<global>","<anonymous>","ViewabilityTracker","_valueExtractorForBinarySearch","prototype.init","prototype.setLayouts","prototype.setDimensions","prototype.forceRefresh","prototype.forceRefreshWithOffset","prototype.updateOffset","prototype.getLastOffset","prototype.getLastActualOffset","prototype.getEngagedIndexes","prototype.findFirstLogicallyVisibleIndex","prototype.updateRenderAheadOffset","prototype.getCurrentRenderAheadOffset","prototype.setActualOffset","prototype._findFirstVisibleIndexOptimally","prototype._fitAndUpdate","prototype._doInitialFit","prototype._findFirstVisibleIndexLinearly","prototype._findFirstVisibleIndexUsingBS","prototype._fitIndexes","prototype._checkIntersectionAndReport","prototype._setRelevantBounds","prototype._isItemInBounds","prototype._isItemBoundsBeyondWindow","prototype._isZeroHeightEdgeElement","prototype._itemIntersectsWindow","prototype._itemIntersectsEngagedWindow","prototype._itemIntersectsVisibleWindow","prototype._updateTrackingWindows","prototype._diffUpdateOriginalIndexesAndRaiseEvents","prototype._diffArraysAndCallFunc","prototype._calculateArrayDiff"],"mappings":"AAA;oDCC;CDQ;wCCG;ICC;8CCG;SDI;KDe;wCGC;KHE;8CIC;KJG;iDKC;KLG;gDMC;KNI;0DOC;KPG;gDQC;KRe;iDSC;KTE;uDUC;KVE;qDWC;KXE;kEYC;KZsB;2DaC;KbG;+DcC;KdE;mDeC;KfE;mEgBC;KhBU;iDiBC;KjBM;iDkBC;KlBK;kEmBE;KnBY;iEoBC;KpBI;+CqBE;KrB+B;+DsBC;KtB0B;sDuBC;KvBS;mDwBC;KxBE;6DyBC;KzBE;4D0BC;K1BE;yD2BC;K3BK;gE4BC;K5BE;gE6BC;K7BE;0D8BC;K9BS;4E+BE;K/BK;0DgCC;KhCQ;uDiCE;KjCS;CDE"}},"type":"js/module"}]}